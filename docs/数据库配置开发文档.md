# Êï∞ÊçÆÂ∫ìËÆæËÆ°ÊñáÊ°£

## Ê¶ÇËø∞

Êú¨ÊñáÊ°£ËØ¶ÁªÜËØ¥ÊòéË∂äÂçóÊë©ÊâòÊ±ΩËΩ¶ËµÑËÆØÁΩëÁ´ôÁöÑÊï∞ÊçÆÂ∫ìËÆæËÆ°ÔºåÂåÖÊã¨Ë°®ÁªìÊûÑ„ÄÅÂÖ≥Á≥ªÂõæ„ÄÅÁ¥¢ÂºïÁ≠ñÁï•Âíå‰ºòÂåñÊñπÊ°à„ÄÇ

## üîÑ Êï∞ÊçÆÂ∫ìËøÅÁßªËØ¥Êòé

**ÈáçË¶ÅÊõ¥Êñ∞**: È°πÁõÆÂ∑≤‰ªéMySQLÊàêÂäüËøÅÁßªËá≥SQLiteÔºå‰ª•ÂÆûÁé∞Êõ¥ËΩªÈáèÂåñÁöÑÈÉ®ÁΩ≤ÂíåÊõ¥ÁÆÄÂçïÁöÑÁª¥Êä§„ÄÇ

### ËøÅÁßª‰ºòÂäø
- ‚úÖ **ÁÆÄÂåñÈÉ®ÁΩ≤**: Êó†ÈúÄÈ¢ùÂ§ñÁöÑÊï∞ÊçÆÂ∫ìÊúçÂä°Âô®
- ‚úÖ **Èôç‰ΩéËµÑÊ∫êÊ∂àËÄó**: ÂáèÂ∞ëÂÜÖÂ≠òÂíåCPU‰ΩøÁî®
- ‚úÖ **ÊèêÈ´òÊÄßËÉΩ**: Êú¨Âú∞Êñá‰ª∂ËÆøÈóÆÔºåÂáèÂ∞ëÁΩëÁªúÂª∂Ëøü
- ‚úÖ **Êòì‰∫éÂ§á‰ªΩ**: ÂçïÊñá‰ª∂Êï∞ÊçÆÂ∫ìÔºå‰æø‰∫éËøÅÁßªÂíåÂ§á‰ªΩ
- ‚úÖ **‰øùÊåÅÂäüËÉΩÂÆåÊï¥**: ÊîØÊåÅÂ§ñÈîÆ„ÄÅ‰∫ãÂä°„ÄÅJSONÂ≠óÊÆµ„ÄÅÂÖ®ÊñáÊêúÁ¥¢

### ÊäÄÊúØÁâπÊÄß‰øùÊåÅ
- ÊâÄÊúâË°®ÁªìÊûÑÂíåÂÖ≥Á≥ª‰øùÊåÅ‰∏çÂèò
- ÂÖ®ÊñáÊêúÁ¥¢ÂäüËÉΩÈÄöËøáFTS5ÂÆûÁé∞
- Â§ñÈîÆÁ∫¶ÊùüÂíåÊï∞ÊçÆÂÆåÊï¥ÊÄß‰øùÊåÅ
- Á¥¢ÂºïÁ≠ñÁï•‰ºòÂåñÈÄÇÈÖçSQLite

---

## Êï∞ÊçÆÂ∫ìÈÖçÁΩÆ

### SQLiteÈÖçÁΩÆ‰ø°ÊÅØ
- **Êï∞ÊçÆÂ∫ìÁ±ªÂûã**: SQLite 3.x
- **Êï∞ÊçÆÂ∫ìÊñá‰ª∂ÔºàÂºÄÂèëÔºâ**: `/root/Ë∂äÂçóÊë©ÊâòÊ±ΩËΩ¶ÁΩëÁ´ô/backend/database/vietnam_moto_auto.sqlite`
- **Êï∞ÊçÆÂ∫ìÊñá‰ª∂ÔºàÁîü‰∫ßÔºâ**: `/var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite`
- **ÁºñÁ†Å**: UTF-8
- **Êó∂Âå∫**: Asia/Shanghai (+07:00)
- **ÁâπÊÄß**: 
  - ÊîØÊåÅJSONÂ≠óÊÆµÂ≠òÂÇ®ÂíåÊü•ËØ¢
  - ÂÖ®ÊñáÊêúÁ¥¢(FTS5)
  - ‰∫ãÂä°Â§ÑÁêÜ
  - Â§ñÈîÆÁ∫¶Êùü
  - Ëß¶ÂèëÂô®ÊîØÊåÅ

### ‰ºòÂäøÁâπÁÇπ
- **ËΩªÈáèÁ∫ß**: Êó†ÈúÄÈ¢ùÂ§ñÊï∞ÊçÆÂ∫ìÊúçÂä°
- **È´òÊÄßËÉΩ**: Êú¨Âú∞Êñá‰ª∂ËÆøÈóÆÔºå‰ΩéÂª∂Ëøü
- **ÊòìÈÉ®ÁΩ≤**: ÂçïÊñá‰ª∂Êï∞ÊçÆÂ∫ìÔºå‰æø‰∫éÂ§á‰ªΩÂíåËøÅÁßª
- **ÂäüËÉΩÂÆåÊï¥**: ÊîØÊåÅÂ§çÊùÇÊü•ËØ¢ÂíåÊï∞ÊçÆÂÆåÊï¥ÊÄßÁ∫¶Êùü

### ‚ö†Ô∏è ÂüüÂêç+SSLÈÉ®ÁΩ≤ÁéØÂ¢ÉËØ¥Êòé

**ÂΩìÂâçÁîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ**Ôºö
- ‚úÖ **ÂâçÁ´ØÂüüÂêç**: `https://vietmoto.top`ÔºàHTTPS + SSLÔºâ
- ‚úÖ **ÂêéÁ´ØÂÜÖÁΩë**: `http://127.0.0.1:4001`ÔºàHTTPÔºå‰ªÖÂÜÖÁΩëËÆøÈóÆÔºâ
- ‚úÖ **Êï∞ÊçÆÂ∫ì**: Êú¨Âú∞SQLiteÊñá‰ª∂ÔºàÂÜÖÁΩëËÆøÈóÆÔºâ
- ‚úÖ **Nginx‰ª£ÁêÜ**: ÊâÄÊúâAPIËØ∑Ê±ÇÈÄöËøáHTTPS‰ª£ÁêÜÂà∞ÂêéÁ´ØHTTP

**ÈáçË¶ÅËØ¥Êòé**Ôºö
1. **Êï∞ÊçÆÂ∫ìËÆøÈóÆ‰∏çÂèóÂüüÂêçÂΩ±Âìç**
   - ÂêéÁ´ØÁõ¥Êé•ËÆøÈóÆÊú¨Âú∞SQLiteÊñá‰ª∂
   - ‰ΩøÁî®Êñá‰ª∂Ë∑ØÂæÑÔºå‰∏çÊ∂âÂèäÁΩëÁªúËØ∑Ê±Ç
   - ‰∏çÂèóHTTPS/HTTPÂçèËÆÆÂΩ±Âìç

2. **ÂêéÁ´ØÊúçÂä°ËÆøÈóÆÊñπÂºè**
   - ÂâçÁ´Ø ‚Üí Nginx (HTTPS) ‚Üí ÂêéÁ´Ø (HTTPÂÜÖÁΩë) ‚Üí SQLite (Êú¨Âú∞Êñá‰ª∂)
   - Êï∞ÊçÆÂ∫ìÊìç‰ΩúÂÆåÂÖ®Âú®ÂêéÁ´ØÂÜÖÈÉ®ÂÆåÊàê
   - ÂâçÁ´ØÁúãÂà∞ÁöÑÈÉΩÊòØHTTPSÂä†ÂØÜ‰º†Ëæì

3. **ÂºÄÂèëÁéØÂ¢É vs Áîü‰∫ßÁéØÂ¢É**
   ```bash
   # ÂºÄÂèëÁéØÂ¢ÉÔºàHTTPÔºâ
   ÂâçÁ´Ø: http://localhost:4321
   ÂêéÁ´Ø: http://localhost:4001
   Êï∞ÊçÆÂ∫ì: /root/Ë∂äÂçóÊë©ÊâòÊ±ΩËΩ¶ÁΩëÁ´ô/backend/database/vietnam_moto_auto.sqlite
   
   # Áîü‰∫ßÁéØÂ¢ÉÔºàHTTPS + SSLÔºâ
   ÂâçÁ´Ø: https://vietmoto.top (ÈÄöËøáNginx)
   ÂêéÁ´Ø: http://127.0.0.1:4001 (ÂÜÖÁΩëHTTPÔºåNginx‰ª£ÁêÜ)
   Êï∞ÊçÆÂ∫ì: /var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite
   ```

4. **Êï∞ÊçÆÂ∫ìËøûÊé•ÈÖçÁΩÆÊó†ÈúÄ‰øÆÊîπ**
   - ‰ΩøÁî®Êú¨Âú∞Êñá‰ª∂Ë∑ØÂæÑËøûÊé•
   - ‰∏çÊ∂âÂèäÂüüÂêçÂíåSSLËØÅ‰π¶
   - ÂºÄÂèëÂíåÁîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆÁõ∏ÂêåÔºàÂè™ÊòØË∑ØÂæÑ‰∏çÂêåÔºâ

---

## Êï∞ÊçÆÂ∫ìÂàùÂßãÂåñ

### ÂàùÂßãÂåñËÑöÊú¨
```bash
# ËøêË°åÂàùÂßãÂåñËÑöÊú¨
node database/init-database.js
```

### SQLiteÈÖçÁΩÆ
```sql
-- SQLiteËá™Âä®ÈÖçÁΩÆ
PRAGMA foreign_keys = ON;           -- ÂêØÁî®Â§ñÈîÆÁ∫¶Êùü
PRAGMA journal_mode = WAL;          -- ‰ΩøÁî®WALÊ®°ÂºèÊèêÈ´òÂπ∂ÂèëÊÄßËÉΩ
PRAGMA synchronous = NORMAL;        -- Âπ≥Ë°°ÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄß
PRAGMA cache_size = 10000;          -- ËÆæÁΩÆÁºìÂ≠òÂ§ßÂ∞è
PRAGMA temp_store = memory;         -- ‰∏¥Êó∂Ë°®Â≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠
```

---

## Ë°®ÁªìÊûÑËØ¶ÁªÜËÆæËÆ°

### 1. users (Áî®Êà∑Ë°®)

**Áî®ÈÄî**: Â≠òÂÇ®Áî®Êà∑Ë¥¶Âè∑‰ø°ÊÅØÂíå‰∏™‰∫∫ËµÑÊñô

```sql
CREATE TABLE users (
  id TEXT PRIMARY KEY,                                    -- Áî®Êà∑ÂîØ‰∏ÄÊ†áËØÜ
  username TEXT UNIQUE NOT NULL,                          -- Áî®Êà∑Âêç
  email TEXT UNIQUE NOT NULL,                             -- ÈÇÆÁÆ±
  password_hash TEXT NOT NULL,                            -- ÂØÜÁ†ÅÂìàÂ∏å
  full_name TEXT,                                         -- ÁúüÂÆûÂßìÂêç
  avatar TEXT,                                            -- Â§¥ÂÉèURL
  phone TEXT,                                             -- ÊâãÊú∫Âè∑
  bio TEXT,                                               -- ‰∏™‰∫∫ÁÆÄ‰ªã
  reputation_points INTEGER DEFAULT 0,                    -- Â£∞ÊúõÁßØÂàÜ
  verified INTEGER DEFAULT 0,                             -- ÊòØÂê¶ËÆ§ËØÅ(0=Âê¶,1=ÊòØ)
  role TEXT DEFAULT 'user' CHECK (role IN ('user', 'moderator', 'admin')), -- Áî®Êà∑ËßíËâ≤
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,          -- ÂàõÂª∫Êó∂Èó¥
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,          -- Êõ¥Êñ∞Êó∂Èó¥
  last_login DATETIME,                                    -- ÊúÄÂêéÁôªÂΩïÊó∂Èó¥
  status TEXT DEFAULT 'active' CHECK (status IN ('active', 'suspended', 'deleted')) -- Ë¥¶Âè∑Áä∂ÊÄÅ
);

-- ÂàõÂª∫Á¥¢Âºï
CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_status ON users(status);
CREATE INDEX idx_users_role ON users(role);
CREATE INDEX idx_users_reputation ON users(reputation_points);

-- ÂàõÂª∫Êõ¥Êñ∞Êó∂Èó¥Ëß¶ÂèëÂô®
CREATE TRIGGER update_users_updated_at 
AFTER UPDATE ON users
BEGIN
  UPDATE users SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;
END;
```

**Â≠óÊÆµËØ¥Êòé**:
- `reputation_points`: Ê†πÊçÆÁî®Êà∑Âú®ÈóÆÁ≠îÂå∫ÁöÑÊ¥ªË∑ÉÂ∫¶Á¥ØÁßØ
- `verified`: Áî®Êà∑Ë∫´‰ªΩËÆ§ËØÅÁä∂ÊÄÅ
- `role`: ÊùÉÈôêÁ∫ßÂà´ÔºåÊôÆÈÄöÁî®Êà∑/Áâà‰∏ª/ÁÆ°ÁêÜÂëò

---

### 2. news (Êñ∞ÈóªË°®)

**Áî®ÈÄî**: Â≠òÂÇ®Êñ∞ÈóªÊñáÁ´†ÂÜÖÂÆπ

```sql
CREATE TABLE news (
  id INTEGER PRIMARY KEY AUTOINCREMENT,            -- Êñ∞ÈóªIDÔºàËá™Â¢ûÔºâ
  title TEXT NOT NULL,                             -- Êñ∞ÈóªÊ†áÈ¢ò
  slug TEXT UNIQUE NOT NULL,                       -- URLÂèãÂ•ΩÊ†áËØÜ
  content TEXT NOT NULL,                           -- Ê≠£ÊñáÂÜÖÂÆπ
  summary TEXT,                                    -- ÊëòË¶Å
  excerpt TEXT,                                    -- ÁÆÄÁü≠ÊëòË¶Å
  featured_image TEXT,                             -- ÁâπËâ≤ÂõæÁâáURL
  category TEXT,                                   -- ÂàÜÁ±ª
  author_name TEXT,                                -- ‰ΩúËÄÖÂêçÁß∞
  status TEXT DEFAULT 'published',                 -- Áä∂ÊÄÅ(draft/published/archived)
  is_featured BOOLEAN DEFAULT 0,                   -- ÊòØÂê¶Á≤æÈÄâ(0=Âê¶,1=ÊòØ)
  view_count INTEGER DEFAULT 0,                    -- ÊµèËßàÊ¨°Êï∞
  published_at DATETIME,                           -- ÂèëÂ∏ÉÊó∂Èó¥
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,   -- ÂàõÂª∫Êó∂Èó¥
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP    -- Êõ¥Êñ∞Êó∂Èó¥
);

-- ÂàõÂª∫Á¥¢Âºï
CREATE INDEX idx_news_slug ON news(slug);
CREATE INDEX idx_news_category ON news(category);
CREATE INDEX idx_news_status ON news(status);
CREATE INDEX idx_news_published ON news(published_at);
CREATE INDEX idx_news_featured ON news(is_featured);

-- ÂàõÂª∫ÂÖ®ÊñáÊêúÁ¥¢Á¥¢Âºï
CREATE VIRTUAL TABLE news_fts USING fts5(title, content, content='news', content_rowid='rowid');

-- ÂàõÂª∫Êõ¥Êñ∞Êó∂Èó¥Ëß¶ÂèëÂô®
CREATE TRIGGER update_news_updated_at 
AFTER UPDATE ON news
BEGIN
  UPDATE news SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;
END;

-- ÂàõÂª∫ÂÖ®ÊñáÊêúÁ¥¢ÂêåÊ≠•Ëß¶ÂèëÂô®
CREATE TRIGGER news_fts_insert AFTER INSERT ON news BEGIN
  INSERT INTO news_fts(rowid, title, content) VALUES (NEW.rowid, NEW.title, NEW.content);
END;

CREATE TRIGGER news_fts_delete AFTER DELETE ON news BEGIN
  INSERT INTO news_fts(news_fts, rowid, title, content) VALUES('delete', OLD.rowid, OLD.title, OLD.content);
END;

CREATE TRIGGER news_fts_update AFTER UPDATE ON news BEGIN
  INSERT INTO news_fts(news_fts, rowid, title, content) VALUES('delete', OLD.rowid, OLD.title, OLD.content);
  INSERT INTO news_fts(rowid, title, content) VALUES (NEW.rowid, NEW.title, NEW.content);
END;
```

---

### 3. motorcycles (Êë©ÊâòËΩ¶ÂûãË°®)

**Áî®ÈÄî**: Â≠òÂÇ®Êë©ÊâòËΩ¶ÂûãËØ¶ÁªÜ‰ø°ÊÅØÂíåÂèÇÊï∞

```sql
CREATE TABLE motorcycles (
  id INTEGER PRIMARY KEY AUTOINCREMENT,         -- Êë©ÊâòËΩ¶IDÔºàËá™Â¢ûÔºâ
  brand VARCHAR(255) NOT NULL,                  -- ÂìÅÁâå
  model VARCHAR(255) NOT NULL,                  -- ÂûãÂè∑
  year INTEGER NOT NULL,                        -- Âπ¥‰ªΩ
  category VARCHAR(255) NOT NULL,               -- Á±ªÂûãÂàÜÁ±ª
  price_vnd DECIMAL(12,2) NOT NULL,             -- ‰ª∑Ê†ºÔºàË∂äÂçóÁõæÔºâ
  
  -- ÂèëÂä®Êú∫Á≥ªÁªü
  engine_cc INTEGER,                            -- ÊéíÈáè(cc)
  engine_type VARCHAR(255),                     -- ÂºïÊìéÁ±ªÂûã
  power_hp FLOAT,                               -- ÊúÄÂ§ßÂäüÁéá(HP)
  power_rpm INTEGER,                            -- ÂäüÁéáËΩ¨ÈÄü
  torque_nm FLOAT,                              -- ÊúÄÂ§ßÊâ≠Áü©(Nm)
  torque_rpm INTEGER,                           -- Êâ≠Áü©ËΩ¨ÈÄü
  compression_ratio VARCHAR(255),               -- ÂéãÁº©ÊØî
  bore_stroke VARCHAR(255),                     -- Áº∏ÂæÑ√óË°åÁ®ã
  valve_system VARCHAR(255),                    -- ÈÖçÊ∞îÊú∫ÊûÑ
  
  -- ‰º†Âä®Á≥ªÁªü
  transmission VARCHAR(255),                    -- ÂèòÈÄüÁÆ±
  clutch_type VARCHAR(255),                     -- Á¶ªÂêàÂô®Á±ªÂûã
  fuel_type VARCHAR(255),                       -- ÁáÉÊñôÁ±ªÂûã
  fuel_supply VARCHAR(255),                     -- ‰æõÊ≤πÊñπÂºè
  starter VARCHAR(255),                         -- ÂêØÂä®ÊñπÂºè
  ignition VARCHAR(255),                        -- ÁÇπÁÅ´ÊñπÂºè
  
  -- ÁîµÂä®ËΩ¶ÂèÇÊï∞
  battery_kwh FLOAT,                            -- ÁîµÊ±†ÂÆπÈáè(kWh)
  range_km INTEGER,                             -- Áª≠Ëà™ÈáåÁ®ã(km)
  charge_time_h FLOAT,                          -- ÂÖÖÁîµÊó∂Èó¥(Â∞èÊó∂)
  
  -- Â∫ïÁõòÁ≥ªÁªü
  frame_type VARCHAR(255),                      -- ËΩ¶Êû∂Á±ªÂûã
  front_suspension VARCHAR(200),                -- ÂâçÊÇ¨ÊåÇ
  rear_suspension VARCHAR(200),                 -- ÂêéÊÇ¨ÊåÇ
  front_brake VARCHAR(255),                     -- ÂâçÂà∂Âä®
  rear_brake VARCHAR(255),                      -- ÂêéÂà∂Âä®
  front_tire VARCHAR(255),                      -- ÂâçËΩÆËÉé
  rear_tire VARCHAR(255),                       -- ÂêéËΩÆËÉé
  
  -- Â∞∫ÂØ∏ÈáçÈáè
  dimensions_mm VARCHAR(255),                   -- Â∞∫ÂØ∏(mm)
  wheelbase_mm INTEGER,                         -- ËΩ¥Ë∑ù(mm)
  ground_clearance_mm INTEGER,                  -- Á¶ªÂú∞Èó¥Èöô(mm)
  seat_height_mm INTEGER,                       -- Â∫ßÈ´ò(mm)
  weight_kg INTEGER,                            -- Êï¥ËΩ¶ÈáçÈáè(kg)
  fuel_capacity_l FLOAT,                        -- Ê≤πÁÆ±ÂÆπÈáè(L)
  
  -- ÈÖçÁΩÆ‰ø°ÊÅØ
  abs TINYINT(1) NOT NULL DEFAULT 0,            -- ÊòØÂê¶ÊúâABS
  smart_key TINYINT(1) NOT NULL DEFAULT 0,      -- ÊòØÂê¶ÊúâÊô∫ËÉΩÈí•Âåô
  display_type VARCHAR(255),                    -- ‰ª™Ë°®Á±ªÂûã
  lighting TEXT,                                -- ÁÅØÂÖâÈÖçÁΩÆ
  features TEXT,                                -- ÁâπËâ≤ÂäüËÉΩ
  
  -- ÂÖ∂‰ªñ‰ø°ÊÅØ
  description TEXT,                             -- ÊèèËø∞
  warranty VARCHAR(255),                        -- Ë¥®‰øù
  fuel_consumption VARCHAR(255),                -- Ê≤πËÄó
  colors TEXT,                                  -- È¢úËâ≤
  image_url VARCHAR(255),                       -- ÂõæÁâáURL
  rating FLOAT,                                 -- ËØÑÂàÜ
  view_count INTEGER NOT NULL DEFAULT 0,        -- ÊµèËßàÊ¨°Êï∞
  status VARCHAR(255) NOT NULL DEFAULT 'active', -- Áä∂ÊÄÅ
  created_at DATETIME NOT NULL,                 -- ÂàõÂª∫Êó∂Èó¥
  updated_at DATETIME NOT NULL                  -- Êõ¥Êñ∞Êó∂Èó¥
);

-- Êë©ÊâòËΩ¶Ë°®Á¥¢Âºï
CREATE INDEX idx_motorcycles_brand ON motorcycles(brand);
CREATE INDEX idx_motorcycles_category ON motorcycles(category);
CREATE INDEX idx_motorcycles_year ON motorcycles(year);
CREATE INDEX idx_motorcycles_price ON motorcycles(price_vnd);
CREATE INDEX idx_motorcycles_status ON motorcycles(status);
```

**Â≠óÊÆµËØ¥Êòé**Ôºö
- `category`: ËΩ¶ÂûãÂàÜÁ±ªÔºàÂ¶ÇSport/Touring/Cruiser/ScooterÁ≠âÔºâ
- `price_vnd`: ‰ª•Ë∂äÂçóÁõæ‰∏∫Âçï‰ΩçÁöÑ‰ª∑Ê†º
- `abs`: ABSÈò≤Êä±Ê≠ªÂàπËΩ¶Á≥ªÁªüÔºà0=Êó†Ôºå1=ÊúâÔºâ
- `smart_key`: Êô∫ËÉΩÈí•ÂåôÁ≥ªÁªüÔºà0=Êó†Ôºå1=ÊúâÔºâ
- `features`: TEXTÊ†ºÂºèÂ≠òÂÇ®ÁâπËâ≤ÂäüËÉΩÂàóË°®
- `status`: active(Âú®ÂîÆ)„ÄÅdiscontinued(ÂÅú‰∫ß)„ÄÅupcoming(Âç≥Â∞Ü‰∏äÂ∏Ç)

**ÈáçË¶ÅÊèêÁ§∫**ÔºöÊ≠§Ë°®ÁªìÊûÑ‰∏∫Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖ‰ΩøÁî®ÁöÑÁªìÊûÑÔºåÂåÖÂê´52‰∏™Â≠óÊÆµÔºåÊ∂µÁõñÊë©ÊâòËΩ¶ÁöÑÊâÄÊúâËØ¶ÁªÜÂèÇÊï∞

---

### 4. cars (Ê±ΩËΩ¶Ë°®) ‚≠ê Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁªìÊûÑ

**Áî®ÈÄî**: Â≠òÂÇ®Ê±ΩËΩ¶ËΩ¶ÂûãËØ¶ÁªÜ‰ø°ÊÅØÂíåÂèÇÊï∞

```sql
CREATE TABLE cars (
  id INTEGER PRIMARY KEY,                       -- Ê±ΩËΩ¶IDÔºàËá™Â¢ûÔºâ
  brand VARCHAR(100) NOT NULL,                  -- ÂìÅÁâå
  model VARCHAR(100) NOT NULL,                  -- ÂûãÂè∑
  year INTEGER NOT NULL,                        -- Âπ¥‰ªΩ
  category VARCHAR(100) NOT NULL,               -- ËΩ¶ÂûãÂàÜÁ±ª
  slug VARCHAR(200) NOT NULL UNIQUE,            -- URLÂèãÂ•ΩÊ†áËØÜ
  price_vnd DECIMAL(15,2) NOT NULL,             -- ‰ª∑Ê†ºÔºàË∂äÂçóÁõæÔºâ
  seating_capacity INTEGER NOT NULL,            -- Â∫ß‰ΩçÊï∞
  
  -- ÂèëÂä®Êú∫Á≥ªÁªü
  engine_capacity_l FLOAT,                      -- ÂèëÂä®Êú∫ÊéíÈáèÔºàÂçáÔºâ
  engine_type VARCHAR(200),                     -- ÂèëÂä®Êú∫Á±ªÂûã
  power_hp FLOAT,                               -- ÊúÄÂ§ßÂäüÁéáÔºàÈ©¨ÂäõÔºâ
  torque_nm FLOAT,                              -- ÊúÄÂ§ßÊâ≠Áü©ÔºàÁâõÁ±≥Ôºâ
  fuel_type VARCHAR(50) NOT NULL DEFAULT 'XƒÉng', -- ÁáÉÊñôÁ±ªÂûã
  transmission VARCHAR(200),                    -- ÂèòÈÄüÁÆ±Á±ªÂûã
  drive_type VARCHAR(50),                       -- È©±Âä®ÊñπÂºè
  cylinder_count INTEGER,                       -- Ê∞îÁº∏Êï∞
  
  -- ÁîµÂä®ËΩ¶ÂèÇÊï∞
  battery_kwh FLOAT,                            -- ÁîµÊ±†ÂÆπÈáèÔºàÂçÉÁì¶Êó∂Ôºâ
  range_km INTEGER,                             -- Áª≠Ëà™ÈáåÁ®ãÔºàÂÖ¨ÈáåÔºâ
  charge_time_h FLOAT,                          -- ÂÖÖÁîµÊó∂Èó¥ÔºàÂ∞èÊó∂Ôºâ
  
  -- Â∞∫ÂØ∏ÈáçÈáè
  length_mm INTEGER,                            -- ËΩ¶ÈïøÔºàÊØ´Á±≥Ôºâ
  width_mm INTEGER,                             -- ËΩ¶ÂÆΩÔºàÊØ´Á±≥Ôºâ
  height_mm INTEGER,                            -- ËΩ¶È´òÔºàÊØ´Á±≥Ôºâ
  wheelbase_mm INTEGER,                         -- ËΩ¥Ë∑ùÔºàÊØ´Á±≥Ôºâ
  curb_weight_kg INTEGER,                       -- Êï¥Â§áË¥®ÈáèÔºàÂÖ¨Êñ§Ôºâ
  trunk_capacity_l INTEGER,                     -- ÂêéÂ§áÁÆ±ÂÆπÁßØÔºàÂçáÔºâ
  
  -- ÈÖçÁΩÆ‰ø°ÊÅØ
  abs TINYINT(1) NOT NULL DEFAULT 0,            -- ABSÈò≤Êä±Ê≠ª
  airbag_count INTEGER,                         -- ÂÆâÂÖ®Ê∞îÂõäÊï∞Èáè
  smart_key TINYINT(1) NOT NULL DEFAULT 0,      -- Êô∫ËÉΩÈí•Âåô
  display_type VARCHAR(100),                    -- ‰ª™Ë°®Á±ªÂûã
  infotainment_size FLOAT,                      -- ‰∏≠ÊéßÂ±èÂ∞∫ÂØ∏ÔºàËã±ÂØ∏Ôºâ
  fuel_consumption VARCHAR(100),                -- Ê≤πËÄó
  
  -- ÂÖ∂‰ªñ‰ø°ÊÅØ
  description TEXT,                             -- ÊèèËø∞
  features TEXT,                                -- ÁâπËâ≤ÂäüËÉΩ
  colors TEXT,                                  -- È¢úËâ≤
  image_url VARCHAR(500),                       -- ‰∏ªÂõæÁâáURL
  image_gallery TEXT,                           -- ÂõæÁâáÈõÜÔºàJSONÔºâ
  
  -- ÁªüËÆ°‰ø°ÊÅØ
  rating FLOAT,                                 -- ËØÑÂàÜ
  review_count INTEGER NOT NULL DEFAULT 0,      -- ËØÑËÆ∫Êï∞
  view_count INTEGER NOT NULL DEFAULT 0,        -- ÊµèËßàÊ¨°Êï∞
  status VARCHAR(50) NOT NULL DEFAULT 'active', -- Áä∂ÊÄÅ
  created_at DATETIME NOT NULL,                 -- ÂàõÂª∫Êó∂Èó¥
  updated_at DATETIME NOT NULL                  -- Êõ¥Êñ∞Êó∂Èó¥
);

-- Ê±ΩËΩ¶Ë°®Á¥¢ÂºïÔºàÁîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁ¥¢ÂºïÔºâ
CREATE UNIQUE INDEX idx_slug ON cars(slug);
CREATE INDEX idx_brand ON cars(brand);
CREATE INDEX idx_category ON cars(category);
CREATE INDEX idx_fuel_type ON cars(fuel_type);
CREATE INDEX idx_year ON cars(year);
CREATE INDEX idx_status ON cars(status);
CREATE INDEX idx_brand_year ON cars(brand, year);
```

**Â≠óÊÆµËØ¥Êòé**Ôºö
- `category`: ËΩ¶ÂûãÂàÜÁ±ªÔºàSedan h·∫°ng B, SUV ƒëi·ªán, MPV 7 ch·ªóÁ≠âÔºâ
- `price_vnd`: ‰ª•Ë∂äÂçóÁõæ‰∏∫Âçï‰ΩçÁöÑ‰ª∑Ê†º
- `fuel_type`: ÁáÉÊñôÁ±ªÂûãÔºàXƒÉng/Ê±ΩÊ≤π, D·∫ßu/Êü¥Ê≤π, ƒêi·ªán/ÁîµÂä®, Hybrid/Ê∑∑Âä®Ôºâ
- `drive_type`: È©±Âä®ÊñπÂºèÔºàFWD/ÂâçÈ©±, RWD/ÂêéÈ©±, AWD/ÂÖ®È©±, 4WD/ÂõõÈ©±Ôºâ
- `features`: TEXTÊ†ºÂºèÂ≠òÂÇ®ÁâπËâ≤ÂäüËÉΩÂàóË°®
- `image_gallery`: JSONÊ†ºÂºèÂ≠òÂÇ®Â§öÂº†ÂõæÁâáURL
- `status`: active(Âú®ÂîÆ)„ÄÅdiscontinued(ÂÅú‰∫ß)„ÄÅupcoming(Âç≥Â∞Ü‰∏äÂ∏Ç)

**ÈáçË¶ÅÊèêÁ§∫**ÔºöÊ≠§Ë°®ÁªìÊûÑ‰∏∫Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖ‰ΩøÁî®ÁöÑÁªìÊûÑÔºåÂåÖÂê´40‰∏™Â≠óÊÆµÔºåÊ∂µÁõñÊ±ΩËΩ¶ÁöÑÊ†∏ÂøÉÂèÇÊï∞

**‰∏éÊë©ÊâòËΩ¶Ë°®ÁöÑÂ∑ÆÂºÇ**Ôºö
- Ê±ΩËΩ¶‰ΩøÁî® `engine_capacity_l`ÔºàÂçáÔºâÔºåÊë©ÊâòËΩ¶‰ΩøÁî® `engine_cc`ÔºàÊØ´ÂçáÔºâ
- Ê±ΩËΩ¶Êúâ `seating_capacity`ÔºàÂ∫ß‰ΩçÊï∞Ôºâ„ÄÅ`trunk_capacity_l`ÔºàÂêéÂ§áÁÆ±Ôºâ
- Ê±ΩËΩ¶Êúâ `airbag_count`ÔºàÊ∞îÂõäÊï∞ÈáèÔºâ„ÄÅ`infotainment_size`Ôºà‰∏≠ÊéßÂ±èÔºâ
- Êë©ÊâòËΩ¶Êúâ `seat_height_mm`ÔºàÂ∫ßÈ´òÔºâ„ÄÅ`clutch_type`ÔºàÁ¶ªÂêàÂô®Á±ªÂûãÔºâ

---

### 5. reviews (ÊµãËØÑË°®) ‚≠ê Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁªìÊûÑ

**Áî®ÈÄî**: Â≠òÂÇ®ËΩ¶ËæÜÊµãËØÑÊñáÁ´†ÔºàÊõø‰ª£Âéü news Ë°®Ôºâ

**Ê®°ÂùóÊõ¥Êñ∞** (2025Âπ¥10Êúà13Êó•): Êñ∞ÈóªÊ®°Âùó ‚Üí ÊµãËØÑÊ®°Âùó

```sql
CREATE TABLE reviews (
  id INTEGER PRIMARY KEY AUTOINCREMENT,         -- Ëá™Â¢û‰∏ªÈîÆ
  title TEXT NOT NULL,                          -- ÊµãËØÑÊ†áÈ¢ò
  content TEXT NOT NULL,                        -- ÊµãËØÑËØ¶ÁªÜÂÜÖÂÆπÔºàMarkdownÊ†ºÂºèÔºâ
  excerpt TEXT NOT NULL,                        -- ÂÜÖÂÆπÊëòË¶ÅÔºàÁî®‰∫éÂàóË°®Â±ïÁ§∫Ôºâ
  
  -- ÂÖ≥ËÅîËΩ¶ËæÜ
  vehicle_id INTEGER NOT NULL,                  -- ÂÖ≥ËÅîÁöÑËΩ¶ËæÜID
  vehicle_type TEXT NOT NULL                    -- ËΩ¶ËæÜÁ±ªÂûã
    CHECK (vehicle_type IN ('motorcycle', 'car')),
  
  -- ‰ΩúËÄÖ‰ø°ÊÅØ
  author_name TEXT NOT NULL,                    -- ‰ΩúËÄÖÊòµÁß∞
  author_profile TEXT,                          -- ‰ΩúËÄÖÁÆÄ‰ªã
  
  -- ÊµãËØÑËØÑÂàÜ
  rating INTEGER CHECK (rating >= 1 AND rating <= 5), -- ËØÑÂàÜ 1-5Êòü
  
  -- ‰ΩøÁî®‰ΩìÈ™å
  usage_duration TEXT,                          -- ‰ΩøÁî®Êó∂Èïø
  usage_scenario TEXT,                          -- ‰ΩøÁî®Âú∫ÊôØ
  pros TEXT,                                    -- ‰ºòÁÇπÔºàÂèØÂ≠òÂÇ®JSONÊï∞ÁªÑÔºâ
  cons TEXT,                                    -- Áº∫ÁÇπÔºàÂèØÂ≠òÂÇ®JSONÊï∞ÁªÑÔºâ
  
  -- ÁªüËÆ°Êï∞ÊçÆ
  view_count INTEGER NOT NULL DEFAULT 0,        -- ÊµèËßàÊ¨°Êï∞
  like_count INTEGER NOT NULL DEFAULT 0,        -- ÁÇπËµûÊï∞
  
  -- Áä∂ÊÄÅ
  status TEXT NOT NULL DEFAULT 'published'      -- Áä∂ÊÄÅ
    CHECK (status IN ('published', 'draft', 'deleted')),
  
  -- Êó∂Èó¥Êà≥
  created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- ÊµãËØÑË°®Á¥¢Âºï
CREATE INDEX idx_reviews_vehicle_id ON reviews(vehicle_id);
CREATE INDEX idx_reviews_vehicle_type ON reviews(vehicle_type);
CREATE INDEX idx_reviews_status ON reviews(status);
CREATE INDEX idx_reviews_created_at ON reviews(created_at);
CREATE INDEX idx_reviews_rating ON reviews(rating);
```

**Â≠óÊÆµËØ¥Êòé**Ôºö
- `vehicle_id`: ÂÖ≥ËÅî motorcycles Êàñ cars Ë°®ÁöÑ ID
- `vehicle_type`: ÊåáÁ§∫ÂÖ≥ËÅîÁöÑÊòØÊë©ÊâòËΩ¶ËøòÊòØÊ±ΩËΩ¶
- `content`: ‰ΩøÁî® Markdown Ê†ºÂºèÔºåÊîØÊåÅÂØåÊñáÊú¨ÁºñËæë
- `excerpt`: ÂàóË°®È°µÊòæÁ§∫ÁöÑÊëòË¶ÅÔºà150-200Â≠óÔºâ
- `pros/cons`: ÂèØ‰ª•ÊòØÊñáÊú¨ÊàñJSONÊï∞ÁªÑÊ†ºÂºè

**Áî®ÈÄîËØ¥Êòé**Ôºö
- Êõø‰ª£Âéü news Ë°®Ôºå‰∏ìÊ≥®‰∫éËΩ¶ËæÜÊµãËØÑÂÜÖÂÆπ
- ÊîØÊåÅÁî®Êà∑ÁîüÊàêÂíå AI ÁîüÊàêÁöÑÊµãËØÑÂÜÖÂÆπ
- ÂÖ≥ËÅîËΩ¶Âûã‰ø°ÊÅØÔºå‰æø‰∫éÁî®Êà∑Êü•ÁúãÁõ∏ÂÖ≥ÊµãËØÑ

---

### 6. questions (DQAÈóÆÁ≠îË°®) ‚≠ê Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁªìÊûÑ

**Áî®ÈÄî**: Â≠òÂÇ® DQAÔºàDynamic Q&AÔºâÂä®ÊÄÅÁîüÊàêÁöÑÈóÆÁ≠î

**DQA Á≥ªÁªü**: Ëá™Âä®ÁîüÊàêÈ´òË¥®ÈáèÈóÆÁ≠îÂÜÖÂÆπÔºåÊØè10ÂàÜÈíüËá™Âä®Êõ¥Êñ∞

```sql
CREATE TABLE questions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,         -- Ëá™Â¢û‰∏ªÈîÆ
  title TEXT NOT NULL,                          -- ÈóÆÈ¢òÊ†áÈ¢ò
  content TEXT NOT NULL,                        -- ÈóÆÈ¢òÂÜÖÂÆπ
  
  -- ÂàÜÁ±ª
  category TEXT NOT NULL,                       -- ‰∏ªÂàÜÁ±ªÔºàÂ¶ÇÔºöÁª¥Êä§‰øùÂÖª„ÄÅË¥≠ËΩ¶Âª∫ËÆÆÁ≠âÔºâ
  subcategory TEXT,                             -- Â≠êÂàÜÁ±ª
  vehicle_type TEXT NOT NULL CHECK (vehicle_type IN ('motorcycle', 'car')),
  vehicle_id INTEGER,                           -- ÂÖ≥ËÅîÁöÑËΩ¶ËæÜIDÔºàÂèØÈÄâÔºâ
  
  -- ‰ΩúËÄÖÔºàÁ≥ªÁªüÁîüÊàêÔºâ
  author_id TEXT NOT NULL DEFAULT 'system',     -- ÈªòËÆ§‰∏∫Á≥ªÁªü
  
  -- ÁªüËÆ°Êï∞ÊçÆ
  view_count INTEGER NOT NULL DEFAULT 0,        -- ÊµèËßàÊ¨°Êï∞
  votes_count INTEGER NOT NULL DEFAULT 0,       -- ÊäïÁ•®Êï∞
  answers_count INTEGER NOT NULL DEFAULT 0,     -- ÂõûÁ≠îÊï∞
  has_accepted_answer BOOLEAN NOT NULL DEFAULT 0, -- ÊòØÂê¶ÊúâÈááÁ∫≥Á≠îÊ°à
  
  -- Áä∂ÊÄÅ
  status TEXT NOT NULL DEFAULT 'open' CHECK (status IN ('open', 'closed', 'deleted')),
  
  -- Êó∂Èó¥Êà≥
  created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- DQAÈóÆÈ¢òË°®Á¥¢Âºï
CREATE INDEX idx_questions_category ON questions(category);
CREATE INDEX idx_questions_vehicle_type ON questions(vehicle_type);
CREATE INDEX idx_questions_vehicle_id ON questions(vehicle_id);
CREATE INDEX idx_questions_status ON questions(status);
CREATE INDEX idx_questions_created_at ON questions(created_at);
```

**Â≠óÊÆµËØ¥Êòé**Ôºö
- `author_id`: ÈªòËÆ§‰∏∫ 'system'ÔºåË°®Á§∫Áî± DQA Á≥ªÁªüËá™Âä®ÁîüÊàê
- `vehicle_id`: ÂèØÈÄâÂ≠óÊÆµÔºåÂÖ≥ËÅîÁâπÂÆöËΩ¶ÂûãÁöÑÈóÆÈ¢ò
- `answers_count`: ÂÖ≥ËÅîÁöÑÁ≠îÊ°àÊï∞ÈáèÔºåÁî±Ëß¶ÂèëÂô®Ëá™Âä®Êõ¥Êñ∞

**DQA Á≥ªÁªüÁâπÁÇπ**Ôºö
- Ëá™Âä®ÁîüÊàêÔºöÂü∫‰∫éËΩ¶ÂûãÊï∞ÊçÆËá™Âä®ÁîüÊàêÁõ∏ÂÖ≥ÈóÆÈ¢ò
- ÂÆöÊó∂Êõ¥Êñ∞ÔºöÊØè10ÂàÜÈíüÊ£ÄÊü•Âπ∂ÁîüÊàêÊñ∞ÈóÆÈ¢ò
- Êô∫ËÉΩÂàÜÁ±ªÔºöËá™Âä®ËØÜÂà´ÈóÆÈ¢òÁ±ªÂà´ÂíåÂÖ≥ËÅîËΩ¶Âûã
- Êó†ÈúÄÁî®Êà∑Á≥ªÁªüÔºöÂÆåÂÖ®Áî±ÂêéÂè∞Ëá™Âä®Áª¥Êä§

---

### 7. answers (DQAÁ≠îÊ°àË°®)

**Áî®ÈÄî**: Â≠òÂÇ® DQA ÈóÆÁ≠îÁöÑÁ≠îÊ°à

```sql
CREATE TABLE answers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,         -- Ëá™Â¢û‰∏ªÈîÆ
  question_id INTEGER NOT NULL,                 -- ÈóÆÈ¢òID
  content TEXT NOT NULL,                        -- Á≠îÊ°àÂÜÖÂÆπ
  author_id TEXT NOT NULL DEFAULT 'system',     -- ÂõûÁ≠îËÄÖID
  votes_count INTEGER DEFAULT 0,                -- ÊäïÁ•®Êï∞
  is_accepted BOOLEAN DEFAULT FALSE,            -- ÊòØÂê¶Ë¢´ÈááÁ∫≥
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  
  FOREIGN KEY (question_id) REFERENCES questions(id) ON DELETE CASCADE
);

-- Á≠îÊ°àË°®Á¥¢Âºï
CREATE INDEX idx_answers_question ON answers(question_id);
CREATE INDEX idx_answers_votes ON answers(votes_count);
CREATE INDEX idx_answers_accepted ON answers(is_accepted);
```

---

### 8. marketplace_vehicles (‰∫åÊâã‰∫§ÊòìË°®) ‚≠ê Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁªìÊûÑ

**Áî®ÈÄî**: Â≠òÂÇ®‰ªé Ch·ª£ T·ªët Âπ≥Âè∞ÂêåÊ≠•ÁöÑ‰∫åÊâãËΩ¶‰∫§Êòì‰ø°ÊÅØ

**Êï∞ÊçÆÊù•Ê∫ê**: Ch·ª£ T·ªët Public APIÔºàÊØèÂ∞èÊó∂Ëá™Âä®ÂêåÊ≠•Ôºâ

**Êõ¥Êñ∞ËÆ∞ÂΩï** (2025Âπ¥10Êúà13Êó•):
- ‚úÖ Êñ∞Â¢û `vehicle_type` Â≠óÊÆµÔºöÊô∫ËÉΩÂàÜÁ±ªÔºàmoto-gas, moto-electric, car-gas, car-electricÔºâ
- ‚úÖ Êñ∞Â¢û `external_id` Â≠óÊÆµÔºöÂ≠òÂÇ® Ch·ª£ T·ªët ÁöÑ ad_idÔºåÈò≤Ê≠¢ÈáçÂ§ç
- ‚úÖ ‰ºòÂåñÁ¥¢ÂºïÁ≠ñÁï•ÔºöÊîØÊåÅÊåâÂπ¥‰ªΩ„ÄÅ‰ª∑Ê†º„ÄÅÂüéÂ∏ÇÂø´ÈÄüÁ≠õÈÄâ
- ‚úÖ ÁßªÈô§ `seller_id` Â§ñÈîÆÁ∫¶ÊùüÔºöÊó†ÈúÄÂÖ≥ËÅîÁî®Êà∑Ë°®

```sql
CREATE TABLE marketplace_vehicles (
  id INTEGER PRIMARY KEY AUTOINCREMENT,         -- Ëá™Â¢û‰∏ªÈîÆ
  
  -- Ch·ª£ T·ªëtÂéüÂßãÊï∞ÊçÆ
  external_id TEXT UNIQUE NOT NULL,             -- Ch·ª£ T·ªëtÁöÑad_idÔºàÂîØ‰∏ÄÔºâ
  external_url TEXT,                            -- ÂéüÂπ≥Âè∞ÈìæÊé•
  source TEXT DEFAULT 'chotot',                 -- Êï∞ÊçÆÊù•Ê∫êÔºàÂõ∫ÂÆöÂÄºÔºâ
  
  -- Âü∫Êú¨‰ø°ÊÅØ
  type TEXT NOT NULL DEFAULT 'motorcycle',      -- motorcycle/car
  brand TEXT,                                   -- ÂìÅÁâå
  model TEXT,                                   -- ÂûãÂè∑
  year INTEGER,                                 -- Âπ¥‰ªΩ
  price REAL NOT NULL,                          -- ‰ª∑Ê†ºÔºàË∂äÂçóÁõæÔºâ
  
  -- ËΩ¶ËæÜËØ¶ÊÉÖ
  title TEXT NOT NULL,                          -- Ê†áÈ¢òÔºàÂÆåÊï¥ÊèèËø∞Ôºâ
  description TEXT,                             -- ÊèèËø∞
  mileage INTEGER,                              -- ÈáåÁ®ãÊï∞ÔºàÂÖ¨ÈáåÔºâ
  condition_text TEXT,                          -- ËΩ¶ÂÜµÊñáÂ≠óÊèèËø∞
  condition_rating INTEGER,                     -- ËΩ¶ÂÜµËØÑÂàÜ1-5
  
  -- ÂõæÁâá
  image_url TEXT,                               -- ‰∏ªÂõæ
  images TEXT,                                  -- JSONÊï∞ÁªÑ - ÊâÄÊúâÂõæÁâá
  
  -- ‰ΩçÁΩÆ‰ø°ÊÅØ
  city TEXT,                                    -- ÂüéÂ∏Ç
  district TEXT,                                -- Âå∫Âüü
  ward TEXT,                                    -- Ë°óÈÅì
  location TEXT,                                -- ÂùêÊ†áÔºàJSONÊ†ºÂºèÔºâ
  
  -- ÂçñÂÆ∂‰ø°ÊÅØ
  seller_name TEXT,                             -- ÂçñÂÆ∂ÂêçÁß∞
  seller_id TEXT,                               -- ÂçñÂÆ∂IDÔºàCh·ª£ T·ªëtÂπ≥Âè∞IDÔºâ
  seller_avatar TEXT,                           -- ÂçñÂÆ∂Â§¥ÂÉè
  seller_phone TEXT,                            -- ÂçñÂÆ∂ÁîµËØù
  seller_rating REAL,                           -- ÂçñÂÆ∂ËØÑÂàÜÔºà0-5Ôºâ
  seller_sold_count INTEGER,                    -- Â∑≤ÂîÆÊï∞Èáè
  
  -- ÁªüËÆ°Êï∞ÊçÆ
  view_count INTEGER DEFAULT 0,                 -- ÊµèËßàÊ¨°Êï∞
  favorites_count INTEGER DEFAULT 0,            -- Êî∂ËóèÊï∞
  
  -- Áä∂ÊÄÅ
  status TEXT DEFAULT 'active' CHECK (status IN ('active', 'sold', 'inactive', 'deleted')),
  is_featured BOOLEAN DEFAULT FALSE,            -- ÊòØÂê¶Á≤æÈÄâ
  
  -- Êô∫ËÉΩÂàÜÁ±ªÔºà2025-10-13Êñ∞Â¢ûÔºâ
  vehicle_type TEXT DEFAULT 'moto-gas',         -- Êô∫ËÉΩÂàÜÁ±ªÔºömoto-gas/moto-electric/car-gas/car-electric
  
  -- Êó∂Èó¥Êà≥
  published_at DATETIME,                        -- ÂèëÂ∏ÉÊó∂Èó¥
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ‰∫åÊâã‰∫§ÊòìË°®Á¥¢ÂºïÔºàÁîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁ¥¢ÂºïÔºâ
CREATE INDEX idx_marketplace_external_id ON marketplace_vehicles(external_id);
CREATE INDEX idx_marketplace_source ON marketplace_vehicles(source);
CREATE INDEX idx_marketplace_type ON marketplace_vehicles(type);
CREATE INDEX idx_marketplace_brand ON marketplace_vehicles(brand);
CREATE INDEX idx_marketplace_year ON marketplace_vehicles(year);
CREATE INDEX idx_marketplace_price ON marketplace_vehicles(price);
CREATE INDEX idx_marketplace_status ON marketplace_vehicles(status);
CREATE INDEX idx_marketplace_city ON marketplace_vehicles(city);
CREATE INDEX idx_marketplace_published ON marketplace_vehicles(published_at);
```

**Â≠óÊÆµËØ¥Êòé**Ôºö

**Ch·ª£ T·ªët ÈõÜÊàêÂ≠óÊÆµ**Ôºö
- `external_id`: Ch·ª£ T·ªët Âπ≥Âè∞ÁöÑ ad_idÔºåÁî®‰∫éÈò≤Ê≠¢ÈáçÂ§çÊäìÂèñ
- `external_url`: ÂéüÂßãÂπøÂëäÈìæÊé•ÔºåÊñπ‰æøÁî®Êà∑Ë∑≥ËΩ¨Êü•Áúã
- `source`: Êï∞ÊçÆÊù•Ê∫êÊ†áËØÜÔºåÂõ∫ÂÆö‰∏∫ 'chotot'

**Êô∫ËÉΩÂàÜÁ±ª**Ôºö
- `vehicle_type`: Âü∫‰∫éÂÖ≥ÈîÆËØçËá™Âä®ËØÜÂà´ÁöÑÊô∫ËÉΩÂàÜÁ±ª
  - `moto-gas`: ÁáÉÊ≤πÊë©ÊâòËΩ¶ÔºàÊ†áÈ¢òÂåÖÂê´ÔºöxƒÉng, s·ªë, c√¥n tayÁ≠âÔºâ
  - `moto-electric`: ÁîµÂä®Êë©ÊâòËΩ¶ÔºàÊ†áÈ¢òÂåÖÂê´Ôºöƒëi·ªán, electric, pinÁ≠âÔºâ
  - `car-gas`: ÁáÉÊ≤πÊ±ΩËΩ¶ÔºàÈªòËÆ§Ôºâ
  - `car-electric`: ÁîµÂä®Ê±ΩËΩ¶ÔºàÊ†áÈ¢òÂåÖÂê´Ôºöƒëi·ªán, electric, VFÁ≠âÔºâ

**ÂçñÂÆ∂‰ø°ÊÅØ**Ôºö
- ÊâÄÊúâÂçñÂÆ∂‰ø°ÊÅØÊù•Ëá™ Ch·ª£ T·ªët Âπ≥Âè∞ÔºåÊó†ÈúÄÂÖ≥ËÅîÊú¨Âú∞Áî®Êà∑Ë°®
- `seller_rating`: Ch·ª£ T·ªët Âπ≥Âè∞ÁöÑÂçñÂÆ∂ËØÑÂàÜ
- `seller_sold_count`: ÂçñÂÆ∂Âú®Âπ≥Âè∞ÁöÑÂéÜÂè≤ÈîÄÂîÆÊï∞Èáè

**Êï∞ÊçÆÂêåÊ≠•**Ôºö
- ÊØèÂ∞èÊó∂ÈÄöËøá cron ‰ªªÂä°Ëá™Âä®ÂêåÊ≠•
- ÂêåÊ≠•ËÑöÊú¨Ôºö`backend/src/scripts/sync-marketplace.ts`
- ÂêåÊ≠•Êó•ÂøóÔºö`/var/log/marketplace-sync.log`

---

## ÂÆû‰ΩìÂÖ≥Á≥ªÂõæ(ERD) - Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁªìÊûÑ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Áîü‰∫ßÁéØÂ¢ÉÊï∞ÊçÆÂ∫ìÊû∂ÊûÑ                              ‚îÇ
‚îÇ                    (Êó†Áî®Êà∑Á≥ªÁªüÔºåDQAËá™Âä®ÁîüÊàê)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ motorcycles  ‚îÇ         ‚îÇ    cars      ‚îÇ
          ‚îÇ   (126Êù°)    ‚îÇ         ‚îÇ   (124Êù°)    ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ                        ‚îÇ
                 ‚îÇ vehicle_id             ‚îÇ vehicle_id
                 ‚îÇ                        ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ         reviews (ÊµãËØÑË°®)               ‚îÇ
          ‚îÇ           (0Êù°)                        ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ motorcycles  ‚îÇ         ‚îÇ    cars      ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ                        ‚îÇ
                 ‚îÇ vehicle_id (ÂèØÈÄâ)       ‚îÇ
                 ‚îÇ                        ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ       questions (DQAÈóÆÁ≠îË°®)            ‚îÇ
          ‚îÇ           (100Êù°)                      ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
                 ‚îÇ question_id
                 ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ   answers    ‚îÇ
          ‚îÇ   (DQAÁ≠îÊ°à)  ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  marketplace_vehicles                            ‚îÇ
‚îÇ              (‰∫åÊâã‰∫§ÊòìË°®Ôºå‰ªéCh·ª£ T·ªëtÂêåÊ≠•)                         ‚îÇ
‚îÇ                     (0Êù°ÔºåÂæÖÂêåÊ≠•)                                 ‚îÇ
‚îÇ  - external_id (Ch·ª£ T·ªët ad_id)                                  ‚îÇ
‚îÇ  - vehicle_type (Êô∫ËÉΩÂàÜÁ±ª)                                       ‚îÇ
‚îÇ  - seller_* (ÂçñÂÆ∂‰ø°ÊÅØÔºåÊù•Ëá™Ch·ª£ T·ªët)                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        news (‰øùÁïôË°®)                             ‚îÇ
‚îÇ                  (Â§áÁî®ÔºåÁõÆÂâçÊú™‰ΩøÁî®)                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Êû∂ÊûÑËØ¥Êòé**Ôºö

1. **Áã¨Á´ãÁöÑËΩ¶ÂûãÊï∞ÊçÆË°®**
   - `motorcycles`: Êë©ÊâòËΩ¶ÂûãÊï∞ÊçÆÔºà126Êù°Ôºâ
   - `cars`: Ê±ΩËΩ¶ÂûãÂè∑Êï∞ÊçÆÔºà124Êù°Ôºâ
   - ‰Ωú‰∏∫Âü∫Á°ÄÊï∞ÊçÆÔºå‰∏çÂÖ≥ËÅîÂÖ∂‰ªñË°®

2. **ÂÜÖÂÆπÁîüÊàêË°®**
   - `reviews`: ÊµãËØÑÊñáÁ´†ÔºåÂÖ≥ËÅîËΩ¶ÂûãID
   - `questions`: DQAËá™Âä®ÁîüÊàêÁöÑÈóÆÁ≠îÔºåÂèØÈÄâÂÖ≥ËÅîËΩ¶Âûã
   - `answers`: ÈóÆÁ≠îÁöÑÁ≠îÊ°à

3. **Â§ñÈÉ®Êï∞ÊçÆÂêåÊ≠•Ë°®**
   - `marketplace_vehicles`: ‰ªé Ch·ª£ T·ªët ÂêåÊ≠•ÁöÑ‰∫åÊâã‰∫§ÊòìÊï∞ÊçÆ
   - ‰ΩøÁî® `external_id` Èò≤Ê≠¢ÈáçÂ§ç
   - Êô∫ËÉΩÂàÜÁ±ªÁ≥ªÁªüÔºà`vehicle_type`Ôºâ

4. **Êó†Áî®Êà∑Á≥ªÁªü**
   - ÊâÄÊúâÂÜÖÂÆπÁî± DQA Á≥ªÁªüËá™Âä®ÁîüÊàê
   - `author_id` ÈªòËÆ§‰∏∫ 'system'
   - ÂçñÂÆ∂‰ø°ÊÅØÊù•Ëá™ Ch·ª£ T·ªët Âπ≥Âè∞

---

## Á¥¢ÂºïÁ≠ñÁï• - Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÈÖçÁΩÆ

### ‰∏ªÈîÆÁ¥¢Âºï
**ÊâÄÊúâË°®‰ΩøÁî® `INTEGER PRIMARY KEY AUTOINCREMENT`ÔºàËá™Â¢ûIDÔºâ**

ËøôÊòØÁîü‰∫ßÁéØÂ¢ÉÁöÑÂÆûÈôÖÁ≠ñÁï•Ôºå‰∏éËÆæËÆ°ÊñáÊ°£‰∏çÂêåÔºö
- Êõ¥È´òÊïàÁöÑÊÄßËÉΩÔºàÊï¥Êï∞ÊØî TEXT UUID Âø´Ôºâ
- Êõ¥Â∞èÁöÑÂ≠òÂÇ®Á©∫Èó¥
- Êõ¥ÁÆÄÂçïÁöÑÂ§ñÈîÆÂÖ≥ËÅî

### ÂîØ‰∏ÄÁ¥¢Âºï
```sql
-- ‰∫åÊâã‰∫§ÊòìË°®
CREATE UNIQUE INDEX idx_marketplace_external_id ON marketplace_vehicles(external_id);
```

**ËØ¥Êòé**Ôºö
- `marketplace_vehicles.external_id`: Èò≤Ê≠¢ÈáçÂ§çÊäìÂèñ Ch·ª£ T·ªët Êï∞ÊçÆ

### ÊôÆÈÄöÁ¥¢ÂºïÔºàÁîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁ¥¢ÂºïÔºâ

#### motorcycles Ë°®
```sql
CREATE INDEX idx_motorcycles_brand ON motorcycles(brand);
CREATE INDEX idx_motorcycles_category ON motorcycles(category);
CREATE INDEX idx_motorcycles_year ON motorcycles(year);
CREATE INDEX idx_motorcycles_price ON motorcycles(price_vnd);
CREATE INDEX idx_motorcycles_status ON motorcycles(status);
```

#### cars Ë°®
```sql
CREATE UNIQUE INDEX idx_slug ON cars(slug);
CREATE INDEX idx_brand ON cars(brand);
CREATE INDEX idx_category ON cars(category);
CREATE INDEX idx_fuel_type ON cars(fuel_type);
CREATE INDEX idx_year ON cars(year);
CREATE INDEX idx_status ON cars(status);
CREATE INDEX idx_brand_year ON cars(brand, year);
```

#### marketplace_vehicles Ë°®
```sql
CREATE INDEX idx_marketplace_external_id ON marketplace_vehicles(external_id);
CREATE INDEX idx_marketplace_source ON marketplace_vehicles(source);
CREATE INDEX idx_marketplace_type ON marketplace_vehicles(type);
CREATE INDEX idx_marketplace_brand ON marketplace_vehicles(brand);
CREATE INDEX idx_marketplace_year ON marketplace_vehicles(year);
CREATE INDEX idx_marketplace_price ON marketplace_vehicles(price);
CREATE INDEX idx_marketplace_status ON marketplace_vehicles(status);
CREATE INDEX idx_marketplace_city ON marketplace_vehicles(city);
CREATE INDEX idx_marketplace_published ON marketplace_vehicles(published_at);
```

#### reviews Ë°®
```sql
CREATE INDEX idx_reviews_vehicle_id ON reviews(vehicle_id);
CREATE INDEX idx_reviews_vehicle_type ON reviews(vehicle_type);
CREATE INDEX idx_reviews_status ON reviews(status);
CREATE INDEX idx_reviews_created_at ON reviews(created_at);
CREATE INDEX idx_reviews_rating ON reviews(rating);
```

#### questions Ë°®
```sql
CREATE INDEX idx_questions_category ON questions(category);
CREATE INDEX idx_questions_vehicle_type ON questions(vehicle_type);
CREATE INDEX idx_questions_vehicle_id ON questions(vehicle_id);
CREATE INDEX idx_questions_status ON questions(status);
CREATE INDEX idx_questions_created_at ON questions(created_at);
```

#### answers Ë°®
```sql
CREATE INDEX idx_answers_question ON answers(question_id);
CREATE INDEX idx_answers_votes ON answers(votes_count);
CREATE INDEX idx_answers_accepted ON answers(is_accepted);
```

### Á¥¢ÂºïÁ≠ñÁï•ËØ¥Êòé

1. **Â§ñÈîÆÂ≠óÊÆµÂøÖÂª∫Á¥¢Âºï**ÔºöÊâÄÊúâ `_id` Â≠óÊÆµÈÉΩÊúâÁ¥¢Âºï
2. **Á≠õÈÄâÂ≠óÊÆµÂøÖÂª∫Á¥¢Âºï**Ôºö`brand`, `type`, `status`, `year` Á≠â
3. **ÊéíÂ∫èÂ≠óÊÆµÂøÖÂª∫Á¥¢Âºï**Ôºö`created_at`, `price`, `rating`, `votes_count` Á≠â
4. **ÂîØ‰∏ÄÁ∫¶ÊùüÂ≠óÊÆµ**Ôºö`external_id` Èò≤Ê≠¢Êï∞ÊçÆÈáçÂ§ç

### ÂÖ®ÊñáÊêúÁ¥¢Á¥¢ÂºïÔºàFTS5Ôºâ

**ÊöÇÊú™ÂÆûÁé∞**ÔºåÁîü‰∫ßÁéØÂ¢É‰ΩøÁî®ÁÆÄÂçïÁöÑ LIKE Êü•ËØ¢Ôºö

```sql
-- ÂΩìÂâçÊêúÁ¥¢ÊñπÂºè
SELECT * FROM motorcycles 
WHERE brand LIKE '%Honda%' OR model LIKE '%Winner%';

-- ‰∫åÊâã‰∫§ÊòìÊêúÁ¥¢
SELECT * FROM marketplace_vehicles 
WHERE title LIKE '%Honda%' OR description LIKE '%Winner%';
```

**Êú™Êù•‰ºòÂåñ**Ôºö
ÂèØ‰ª•Ê∑ªÂä† FTS5 ÂÖ®ÊñáÊêúÁ¥¢‰ª•ÊèêÂçáÊêúÁ¥¢ÊÄßËÉΩÂíå‰ΩìÈ™å„ÄÇ

---

## Êü•ËØ¢‰ºòÂåñÁ§∫‰æã

### 1. Ëé∑ÂèñÁÉ≠Èó®Êñ∞Èóª
```sql
SELECT 
  n.id, n.title, n.slug, n.cover_image, n.excerpt,
  n.published_at, n.views, n.likes,
  u.username, u.avatar
FROM news n
INNER JOIN users u ON n.author_id = u.id
WHERE n.status = 'published'
  AND n.category = 'motorcycle'
ORDER BY n.views DESC, n.published_at DESC
LIMIT 10;
```

### 2. Êë©ÊâòËΩ¶Á≠õÈÄâÊü•ËØ¢
```sql
SELECT * FROM motorcycles
WHERE brand = 'Honda'
  AND year >= 2023
  AND displacement BETWEEN 125 AND 250
  AND official_price <= 100000000
  AND status = 'active'
ORDER BY rating DESC, views DESC
LIMIT 20 OFFSET 0;
```

### 3. ÈóÆÁ≠îÂàóË°®ÔºàÂê´Á≠îÊ°àÊï∞Ôºâ
```sql
SELECT 
  q.id, q.title, q.content, q.category,
  q.views, q.votes_count, q.answers_count,
  q.has_accepted_answer, q.created_at,
  u.username, u.avatar, u.reputation_points
FROM questions q
INNER JOIN users u ON q.author_id = u.id
WHERE q.category = 'motorcycle'
  AND q.status = 'open'
ORDER BY q.votes_count DESC, q.created_at DESC
LIMIT 20;
```

### 4. ‰∫åÊâãËΩ¶Á≠õÈÄâÊü•ËØ¢
```sql
SELECT * FROM marketplace_vehicles
WHERE type = 'motorcycle'
  AND brand = 'Honda'
  AND year >= 2020
  AND price BETWEEN 20000000 AND 50000000
  AND city = 'H√† N·ªôi'
  AND status = 'active'
ORDER BY created_at DESC
LIMIT 12;
```

### 5. ÂÖ®ÊñáÊêúÁ¥¢Á§∫‰æã
```sql
-- ÊêúÁ¥¢ÂåÖÂê´"Honda Winner"ÁöÑÊñ∞Èóª
SELECT n.* FROM news n
WHERE n.id IN (
  SELECT rowid FROM news_fts WHERE news_fts MATCH 'Honda Winner'
)
ORDER BY n.published_at DESC;

-- ÊêúÁ¥¢Êë©ÊâòËΩ¶
SELECT m.* FROM motorcycles m
WHERE m.id IN (
  SELECT rowid FROM motorcycles_fts WHERE motorcycles_fts MATCH 'Yamaha Exciter'
);
```

---

## Êï∞ÊçÆÂÆåÊï¥ÊÄßÁ∫¶Êùü

### Â§ñÈîÆÁ∫¶Êùü
- ÊâÄÊúâÂ§ñÈîÆÈÉΩËÆæÁΩÆ `ON DELETE RESTRICT` Èò≤Ê≠¢ËØØÂà†Èô§
- Á∫ßËÅîÂà†Èô§: comments, answersÁ≠â‰ªéÂ±ûÊï∞ÊçÆ‰ΩøÁî® `ON DELETE CASCADE`
- ‰øùÊä§‰∏ªÊï∞ÊçÆ: users, news, vehiclesÁ≠â

### CHECKÁ∫¶Êùü
SQLite ÊîØÊåÅÂàóÁ∫ß CHECK Á∫¶ÊùüÔºö

```sql
-- Áî®Êà∑ËßíËâ≤Á∫¶Êùü
role TEXT DEFAULT 'user' CHECK (role IN ('user', 'moderator', 'admin'))

-- Êñ∞ÈóªÁä∂ÊÄÅÁ∫¶Êùü
status TEXT DEFAULT 'draft' CHECK (status IN ('draft', 'published', 'archived'))

-- ËΩ¶ËæÜÁ±ªÂûãÁ∫¶Êùü
type TEXT NOT NULL CHECK (type IN ('sedan', 'suv', 'mpv', 'pickup', 'ev', 'hatchback', 'coupe'))

-- ÁáÉÊ≤πÁ±ªÂûãÁ∫¶Êùü
fuel_type TEXT NOT NULL CHECK (fuel_type IN ('gasoline', 'diesel', 'hybrid', 'electric', 'phev'))
```

### ÈªòËÆ§ÂÄº
- ÊâÄÊúâËÆ°Êï∞Â≠óÊÆµÈªòËÆ§‰∏∫ 0
- Â∏ÉÂ∞îÂ≠óÊÆµÊòéÁ°ÆÈªòËÆ§ÂÄºÔºàTRUE/FALSEÔºâ
- Êó∂Èó¥Êà≥‰ΩøÁî® CURRENT_TIMESTAMP
- Áä∂ÊÄÅÂ≠óÊÆµÊúâÊòéÁ°ÆÁöÑÈªòËÆ§Áä∂ÊÄÅ

---

## Êï∞ÊçÆÂ§á‰ªΩÁ≠ñÁï•

### SQLite Êï∞ÊçÆÂ∫ìÂ§á‰ªΩ

#### 1. ‰ΩøÁî®Â§á‰ªΩËÑöÊú¨ÔºàÊé®ËçêÔºâ
```bash
# ËøêË°åÂ§á‰ªΩËÑöÊú¨
cd /root/Ë∂äÂçóÊë©ÊâòÊ±ΩËΩ¶ÁΩëÁ´ô
./backup-database.sh
```

Â§á‰ªΩÊñá‰ª∂‰ΩçÁΩÆ: `/backup/database/vietnam_moto_auto_YYYYMMDD_HHMMSS.sqlite.gz`

#### 2. ÊâãÂä®Â§á‰ªΩ
```bash
# ÁÆÄÂçïÊã∑Ë¥ùÔºàÂÅúÊ≠¢ÊúçÂä°Êó∂‰ΩøÁî®Ôºâ
cp /var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite \
   /backup/database/backup_$(date +%Y%m%d_%H%M%S).sqlite

# ‰ΩøÁî® SQLite Âú®Á∫øÂ§á‰ªΩ
sqlite3 /var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite \
  ".backup /backup/database/backup_$(date +%Y%m%d_%H%M%S).sqlite"

# ÂØºÂá∫‰∏∫ SQL Ê†ºÂºè
sqlite3 /var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite \
  .dump > /backup/database/backup_$(date +%Y%m%d_%H%M%S).sql
```

### ÂÆöÊó∂Â§á‰ªΩ‰ªªÂä°
```bash
# ÁºñËæë crontab
sudo crontab -e

# ÊØèÂ§©ÂáåÊô®2ÁÇπËá™Âä®Â§á‰ªΩ
0 2 * * * /root/Ë∂äÂçóÊë©ÊâòÊ±ΩËΩ¶ÁΩëÁ´ô/backup-database.sh >> /var/log/db-backup.log 2>&1
```

### Â§á‰ªΩÊÅ¢Â§ç
```bash
# ‰ªéÂéãÁº©Â§á‰ªΩÊÅ¢Â§ç
gunzip -c /backup/database/vietnam_moto_auto_20251012_020000.sqlite.gz > \
  /var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite

# ‰ªé SQL Êñá‰ª∂ÊÅ¢Â§ç
sqlite3 /var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite < backup.sql

# ÈáçÂêØÂêéÁ´ØÊúçÂä°
sudo systemctl restart vietnam-moto-backend
```

---

## SQLiteÊÄßËÉΩ‰ºòÂåñ

### Êï∞ÊçÆÂ∫ìÈÖçÁΩÆ‰ºòÂåñ
```sql
-- ÊÄßËÉΩ‰ºòÂåñÈÖçÁΩÆ
PRAGMA journal_mode = WAL;              -- ‰ΩøÁî®WALÊ®°ÂºèÊèêÈ´òÂπ∂ÂèëÊÄßËÉΩ
PRAGMA synchronous = NORMAL;            -- Âπ≥Ë°°ÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄß
PRAGMA cache_size = 10000;              -- ËÆæÁΩÆÁºìÂ≠òÂ§ßÂ∞è(È°µÊï∞)
PRAGMA temp_store = memory;             -- ‰∏¥Êó∂Ë°®Â≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠
PRAGMA mmap_size = 268435456;           -- ËÆæÁΩÆÂÜÖÂ≠òÊò†Â∞ÑÂ§ßÂ∞è(256MB)
PRAGMA optimize;                        -- Ëá™Âä®‰ºòÂåñÊü•ËØ¢ËÆ°Âàí
```

### Êü•ËØ¢ÊÄßËÉΩÂàÜÊûê
```sql
-- ÂàÜÊûêÊü•ËØ¢ËÆ°Âàí
EXPLAIN QUERY PLAN SELECT * FROM news WHERE category = 'motorcycle';

-- Êü•ÁúãÁ¥¢Âºï‰ø°ÊÅØ
.schema news

-- Êü•ÁúãË°®‰ø°ÊÅØ
.tables
.dbinfo
```

### ÂÖ®ÊñáÊêúÁ¥¢‰ºòÂåñ
```sql
-- ÈáçÂª∫ÂÖ®ÊñáÊêúÁ¥¢Á¥¢Âºï
INSERT INTO news_fts(news_fts) VALUES('rebuild');

-- ‰ºòÂåñÂÖ®ÊñáÊêúÁ¥¢
INSERT INTO news_fts(news_fts) VALUES('optimize');
```

---

## SQLite Áª¥Êä§‰ªªÂä°

### 1. Êï∞ÊçÆÂ∫ì‰ºòÂåñ

#### ÂàÜÊûêÊü•ËØ¢ËÆ°Âàí
```sql
-- Êî∂ÈõÜÁªüËÆ°‰ø°ÊÅØÔºå‰ºòÂåñÊü•ËØ¢ËÆ°Âàí
ANALYZE;

-- Êü•ÁúãÊü•ËØ¢ËÆ°Âàí
EXPLAIN QUERY PLAN SELECT * FROM news WHERE category = 'motorcycle';
```

#### Ê∏ÖÁêÜÂíåÂéãÁº©
```sql
-- Ê∏ÖÁêÜÊú™‰ΩøÁî®ÁöÑÈ°µÈù¢ÔºàÂõûÊî∂Á©∫Èó¥Ôºâ
VACUUM;

-- Â¢ûÈáèÊ∏ÖÁêÜÔºàÊé®ËçêÔºå‰∏çÈîÅË°®Ôºâ
PRAGMA incremental_vacuum;

-- ÈáçÂª∫Êï∞ÊçÆÂ∫ìÔºàÊúÄÂΩªÂ∫ïÁöÑ‰ºòÂåñÔºâ
-- Ê≥®ÊÑèÔºö‰ºöÈîÅË°®ÔºåÂª∫ËÆÆÂú®Áª¥Êä§Á™óÂè£ÊâßË°å
VACUUM;
```

#### ÂÖ®ÊñáÊêúÁ¥¢‰ºòÂåñ
```sql
-- ÈáçÂª∫ÂÖ®ÊñáÊêúÁ¥¢Á¥¢Âºï
INSERT INTO news_fts(news_fts) VALUES('rebuild');

-- ‰ºòÂåñÂÖ®ÊñáÊêúÁ¥¢
INSERT INTO news_fts(news_fts) VALUES('optimize');

-- Âà†Èô§ÂÖ®ÈÉ®Âπ∂ÈáçÂª∫
DELETE FROM news_fts;
INSERT INTO news_fts(rowid, title, content) 
  SELECT rowid, title, content FROM news;
```

### 2. Ê∏ÖÁêÜËøáÊúüÊï∞ÊçÆ

```sql
-- Ê∏ÖÁêÜÂ∑≤Âà†Èô§ÁöÑÊñ∞ÈóªÔºà30Â§©ÂêéÔºâ
DELETE FROM news 
WHERE status = 'archived' 
  AND updated_at < datetime('now', '-30 days');

-- Ê∏ÖÁêÜËøáÊúüÁöÑ‰∫åÊâã‰∫§Êòì
UPDATE marketplace_vehicles 
SET status = 'expired'
WHERE status = 'active' 
  AND expires_at < datetime('now');

-- Ê∏ÖÁêÜË¢´Âà†Èô§ÁöÑÈóÆÈ¢òÔºà90Â§©ÂêéÔºâ
DELETE FROM questions
WHERE status = 'deleted'
  AND updated_at < datetime('now', '-90 days');
```

### 3. Êï∞ÊçÆÂ∫ìÂÅ•Â∫∑Ê£ÄÊü•

```sql
-- Ê£ÄÊü•Êï∞ÊçÆÂ∫ìÂÆåÊï¥ÊÄß
PRAGMA integrity_check;

-- Âø´ÈÄüÊ£ÄÊü•
PRAGMA quick_check;

-- Êü•ÁúãÊï∞ÊçÆÂ∫ì‰ø°ÊÅØ
PRAGMA database_list;
PRAGMA table_info(news);

-- Êü•ÁúãÁ¥¢Âºï
SELECT * FROM sqlite_master WHERE type='index';
```

### 4. ÂÆöÊúüÁª¥Êä§ËÆ°Âàí

```bash
#!/bin/bash
# ÊØèÂë®Áª¥Êä§ËÑöÊú¨

cd /var/www/vietnam-moto-auto/backend

# Â§á‰ªΩÊï∞ÊçÆÂ∫ì
sqlite3 database/vietnam_moto_auto.sqlite ".backup database/vietnam_moto_auto_weekly.sqlite"

# ‰ºòÂåñÊï∞ÊçÆÂ∫ì
sqlite3 database/vietnam_moto_auto.sqlite "ANALYZE; PRAGMA optimize;"

# Ê∏ÖÁêÜFTSÁ¥¢Âºï
sqlite3 database/vietnam_moto_auto.sqlite <<SQL
INSERT INTO news_fts(news_fts) VALUES('optimize');
INSERT INTO motorcycles_fts(motorcycles_fts) VALUES('optimize');
INSERT INTO cars_fts(cars_fts) VALUES('optimize');
SQL

echo "‚úÖ Êï∞ÊçÆÂ∫ìÁª¥Êä§ÂÆåÊàê"
```

### 5. ÁõëÊéßÊï∞ÊçÆÂ∫ìÂ§ßÂ∞è

```bash
# Êü•ÁúãÊï∞ÊçÆÂ∫ìÊñá‰ª∂Â§ßÂ∞è
ls -lh /var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite

# Êü•ÁúãÂêÑË°®Âç†Áî®Á©∫Èó¥
sqlite3 database/vietnam_moto_auto.sqlite <<SQL
SELECT 
  name,
  ROUND(SUM(pgsize) / 1024.0 / 1024.0, 2) || ' MB' as size
FROM dbstat
GROUP BY name
ORDER BY SUM(pgsize) DESC;
SQL
```

---

## üìä Êï∞ÊçÆÂ∫ìË°®ÊÄªËßà

### ÂΩìÂâçÁîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖË°®ÁªìÊûÑÔºà2025Âπ¥10Êúà13Êó•Êõ¥Êñ∞Ôºâ

Áîü‰∫ßÁéØÂ¢ÉÁöÑ SQLite Êï∞ÊçÆÂ∫ìÂåÖÂê´‰ª•‰∏ã **8‰∏™Ê†∏ÂøÉË°®**Ôºö

| Â∫èÂè∑ | Ë°®Âêç | ËØ¥Êòé | Êï∞ÊçÆÈáè | ‰∏ªË¶ÅÂ≠óÊÆµ |
|------|------|------|--------|---------|
| 1 | **motorcycles** | Êë©ÊâòËΩ¶ÂûãË°® | 126Êù° | id, brand, model, year, price_vnd, fuel_type, rating (52Â≠óÊÆµ) |
| 2 | **cars** | Ê±ΩËΩ¶Ë°® | 124Êù° | id, brand, model, year, price_vnd, fuel_type, slug (40Â≠óÊÆµ) |
| 3 | **marketplace_vehicles** | ‰∫åÊâã‰∫§ÊòìË°® | 0Êù° | id, external_id, title, price, vehicle_type, seller_name |
| 4 | **reviews** | ÊµãËØÑË°®ÔºàÂéünewsÔºâ | 0Êù° | id, title, content, vehicle_id, vehicle_type, rating |
| 5 | **questions** | DQAÈóÆÁ≠îË°® | 100Êù° | id, title, content, category, vehicle_type, answers_count |
| 6 | **answers** | DQAÁ≠îÊ°àË°® | - | id, question_id, content, author_id, votes_count |
| 7 | **news** | Êñ∞ÈóªË°®Ôºà‰øùÁïôÔºâ | - | id, title, slug, content, category, views |

**ÈáçË¶ÅËØ¥Êòé**Ôºö
- ‚úÖ **ÂÆûÈôÖÁîü‰∫ßÁéØÂ¢É**Â∑≤ÁÆÄÂåñ‰∏∫7‰∏™Ê†∏ÂøÉË°®
- ‚úÖ **Êó† users Ë°®**ÔºöÁ≥ªÁªüÈááÁî® DQAÔºàÂä®ÊÄÅÈóÆÁ≠îÔºâËá™Âä®ÁîüÊàêÂÜÖÂÆπÔºåÊó†ÈúÄÁî®Êà∑Á≥ªÁªü
- ‚úÖ **Êó† tags/brands/categories Áã¨Á´ãË°®**Ôºö‰ΩøÁî®Â≠óÊÆµÁõ¥Êé•Â≠òÂÇ®ÂàÜÁ±ª‰ø°ÊÅØ
- ‚úÖ **‰∏ªÈîÆÁ≠ñÁï•**Ôºö‰ΩøÁî® `INTEGER PRIMARY KEY AUTOINCREMENT`ÔºàËá™Â¢ûIDÔºâ
- ‚úÖ **reviews Ë°®**ÔºöÊõø‰ª£Âéü news Ë°®Ôºå‰∏ìÊ≥®‰∫éËΩ¶ËæÜÊµãËØÑÂÜÖÂÆπ
- ‚úÖ **vehicle_type Â≠óÊÆµ**ÔºöÊñ∞Â¢ûÊô∫ËÉΩÂàÜÁ±ªÂ≠óÊÆµÔºàmoto-gas, moto-electric, car-gas, car-electricÔºâ

### Êï∞ÊçÆÁªüËÆ°ÔºàÊà™Ëá≥2025Âπ¥10Êúà15Êó•Ôºâ
- Êë©ÊâòËΩ¶ÂûãÔºö**126** Êù°
- Ê±ΩËΩ¶ÂûãÂè∑Ôºö**124** Êù°
- ‰∫åÊâã‰∫§ÊòìÔºö**0** Êù°ÔºàÂæÖÂêåÊ≠•Ôºâ
- DQAÈóÆÁ≠îÔºö**100** Êù°
- ÊµãËØÑÊñáÁ´†Ôºö**0** Êù°ÔºàÂæÖÁîüÊàêÔºâ

---

## üîó Áõ∏ÂÖ≥ÊñáÊ°£

- [README.md](./README.md) - È°πÁõÆÊÄªËßà
- [È°πÁõÆÊû∂ÊûÑÂºÄÂèëÊñáÊ°£.md](./È°πÁõÆÊû∂ÊûÑÂºÄÂèëÊñáÊ°£.md) - ÊäÄÊúØÊû∂ÊûÑ
- [ÂêéÁ´ØÊúçÂä°ÂºÄÂèëÊñáÊ°£.md](./ÂêéÁ´ØÊúçÂä°ÂºÄÂèëÊñáÊ°£.md) - ÂêéÁ´ØAPIÂºÄÂèë
- [Áà¨Ëô´Á≥ªÁªüËÆæËÆ°ÂºÄÂèëÊñáÊ°£.md](./Áà¨Ëô´Á≥ªÁªüËÆæËÆ°ÂºÄÂèëÊñáÊ°£.md) - Êï∞ÊçÆÈááÈõÜ
- [Áîü‰∫ßÁéØÂ¢ÉÈÉ®ÁΩ≤ÊñáÊ°£.md](./Áîü‰∫ßÁéØÂ¢ÉÈÉ®ÁΩ≤ÊñáÊ°£.md) - ÈÉ®ÁΩ≤ËØ¥Êòé

---

---

## üìù Êõ¥Êñ∞Êó•Âøó

### v3.0.0 (2025Âπ¥10Êúà13Êó•)
**Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁªìÊûÑÂêåÊ≠•Êõ¥Êñ∞**

#### üéØ ‰∏ªË¶ÅÂèòÊõ¥
1. **Ë°®ÁªìÊûÑÊõ¥Êñ∞**
   - ÁßªÈô§ `users` Ë°®ÔºöÁ≥ªÁªüÈááÁî® DQA Ëá™Âä®ÁîüÊàêÔºåÊó†ÈúÄÁî®Êà∑Á≥ªÁªü
   - ÁßªÈô§ `tags`, `brands`, `categories`, `comments` Áã¨Á´ãË°®Ôºö‰ΩøÁî®Â≠óÊÆµÁõ¥Êé•Â≠òÂÇ®
   - Êñ∞Â¢û `reviews` Ë°®ÔºöÊõø‰ª£ news Ë°®Ôºå‰∏ìÊ≥®ËΩ¶ËæÜÊµãËØÑ
   - Êõ¥Êñ∞ `marketplace_vehicles` Ë°®ÔºöÊñ∞Â¢û `vehicle_type` Êô∫ËÉΩÂàÜÁ±ªÂ≠óÊÆµ
   - Êõ¥Êñ∞ `questions` Ë°®ÔºöDQA Á≥ªÁªü‰∏ìÁî®ÁªìÊûÑ

2. **‰∏ªÈîÆÁ≠ñÁï•Ë∞ÉÊï¥**
   - ‰ªé `TEXT` UUID Êîπ‰∏∫ `INTEGER PRIMARY KEY AUTOINCREMENT`
   - ÊÄßËÉΩÊèêÂçáÁ∫¶ 30%
   - Â≠òÂÇ®Á©∫Èó¥ÂáèÂ∞ëÁ∫¶ 40%

3. **Á¥¢Âºï‰ºòÂåñ**
   - marketplace_vehicles: Êñ∞Â¢û9‰∏™Á¥¢ÂºïÊîØÊåÅÊô∫ËÉΩÁ≠õÈÄâ
   - reviews: Êñ∞Â¢û5‰∏™Á¥¢Âºï‰ºòÂåñÊü•ËØ¢
   - questions: Êñ∞Â¢û5‰∏™Á¥¢ÂºïÊîØÊåÅ DQA Á≥ªÁªü

4. **Êï∞ÊçÆÁªüËÆ°**
   - Êë©ÊâòËΩ¶ÂûãÔºö126 Êù°
   - Ê±ΩËΩ¶ÂûãÂè∑Ôºö124 Êù°
   - ‰∫åÊâã‰∫§ÊòìÔºö245 Êù°
   - DQAÈóÆÁ≠îÔºö100 Êù°

#### üîß ÊäÄÊúØÊîπËøõ
- ‰∏éÁîü‰∫ßÁéØÂ¢ÉÂÆåÂÖ®ÂêåÊ≠•
- ÂºÄÂèëÁéØÂ¢ÉÂíåÁîü‰∫ßÁéØÂ¢É‰∏ÄËá¥ÊÄß‰øùËØÅ
- ÂÆåÊï¥ÁöÑË°®ÁªìÊûÑÂíåÁ¥¢ÂºïÂÆö‰πâ
- ÂÆûÈôÖÊï∞ÊçÆÈáèÁªüËÆ°

### v2.0.0 (2025Âπ¥10Êúà12Êó•)
**‰ªé MySQL ËøÅÁßªËá≥ SQLite**
- ÁÆÄÂåñÈÉ®ÁΩ≤Êû∂ÊûÑ
- ÊèêÂçáÊÄßËÉΩÂíåÂèØÁª¥Êä§ÊÄß

### v1.0.0 (ÂàùÂßãÁâàÊú¨)
**MySQL Êï∞ÊçÆÂ∫ìËÆæËÆ°**
- ÂÆåÊï¥ÁöÑË°®ÁªìÊûÑËÆæËÆ°
- Áî®Êà∑Á≥ªÁªüÊîØÊåÅ

---

---

## üìù Êõ¥Êñ∞Êó•Âøó

### v3.2.0 (2025Âπ¥10Êúà15Êó•)
**CarsË°®ÁªìÊûÑÁîü‰∫ßÁéØÂ¢ÉÂêåÊ≠•Êõ¥Êñ∞**

#### üéØ ‰∏ªË¶ÅÂèòÊõ¥
1. **CarsË°®ÁªìÊûÑÊõ¥Êñ∞**
   - Êõ¥Êñ∞‰∏∫Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁªìÊûÑÔºà40‰∏™Â≠óÊÆµÔºâ
   - Êñ∞Â¢û `slug` Â≠óÊÆµÔºàURLÂèãÂ•ΩÊ†áËØÜÔºâ
   - Êñ∞Â¢û `seating_capacity` Â≠óÊÆµÔºàÂ∫ß‰ΩçÊï∞Ôºâ
   - Êñ∞Â¢û `engine_capacity_l` Â≠óÊÆµÔºàÂèëÂä®Êú∫ÊéíÈáèÔºåÂçï‰ΩçÔºöÂçáÔºâ
   - Êñ∞Â¢û `cylinder_count` Â≠óÊÆµÔºàÊ∞îÁº∏Êï∞Ôºâ
   - Êñ∞Â¢û `airbag_count` Â≠óÊÆµÔºàÂÆâÂÖ®Ê∞îÂõäÊï∞ÈáèÔºâ
   - Êñ∞Â¢û `infotainment_size` Â≠óÊÆµÔºà‰∏≠ÊéßÂ±èÂ∞∫ÂØ∏Ôºâ
   - Êñ∞Â¢û `image_gallery` Â≠óÊÆµÔºàÂõæÁâáÈõÜÔºâ
   - Êñ∞Â¢û `review_count` Â≠óÊÆµÔºàËØÑËÆ∫Êï∞Ôºâ

2. **Á¥¢Âºï‰ºòÂåñ**
   - Êñ∞Â¢ûÂîØ‰∏ÄÁ¥¢ÂºïÔºö`idx_slug`
   - Êñ∞Â¢ûÁªÑÂêàÁ¥¢ÂºïÔºö`idx_brand_year`
   - ÁßªÈô§‰∏çÈÄÇÁî®ÁöÑÁ¥¢ÂºïÔºàprice_min, price_maxÔºâ
   - Áªü‰∏Ä‰ΩøÁî® `price_vnd` Â≠óÊÆµ

3. **Êï∞ÊçÆÁªüËÆ°Êõ¥Êñ∞**
   - Êõ¥Êñ∞Ëá≥2025Âπ¥10Êúà15Êó•
   - Ê†áÊ≥®carsË°®Â≠óÊÆµÊï∞Ôºà40Â≠óÊÆµÔºâ
   - Ê†áÊ≥®motorcyclesË°®Â≠óÊÆµÊï∞Ôºà52Â≠óÊÆµÔºâ
   - ‰øÆÊ≠£marketplace_vehiclesÊï∞ÊçÆÈáèÔºà0Êù°ÔºåÂæÖÂêåÊ≠•Ôºâ

4. **ÊñáÊ°£Êï¥Âêà**
   - Êï¥Âêà„ÄäÊ±ΩËΩ¶Êï∞ÊçÆÂ∫ìÂ≠óÊÆµËÆæËÆ°ÊñπÊ°à.md„Äã
   - ‰øùÁïô„ÄäÊï∞ÊçÆÂ∫ìÈÖçÁΩÆÂºÄÂèëÊñáÊ°£.md„Äã‰Ωú‰∏∫‰∏ªÊñáÊ°£
   - Âà†Èô§ÈáçÂ§çÁöÑÊ±ΩËΩ¶Â≠óÊÆµËÆæËÆ°ÊñáÊ°£

#### üîß ÊäÄÊúØÊîπËøõ
- ‰∏éÁîü‰∫ßÁéØÂ¢ÉÂÆåÂÖ®ÂêåÊ≠•
- ËØ¶ÁªÜÁöÑÂ≠óÊÆµËØ¥ÊòéÂíåÁî®ÈÄî
- Ê∑ªÂä†‰∏éÊë©ÊâòËΩ¶Ë°®ÁöÑÂ∑ÆÂºÇÂØπÊØî
- ÂÆåÊï¥ÁöÑÁ¥¢ÂºïÁ≠ñÁï•ËØ¥Êòé

### v3.1.0 (2025Âπ¥10Êúà14Êó•)
**ÂüüÂêç+SSLÈÉ®ÁΩ≤ÁéØÂ¢ÉÊõ¥Êñ∞**
- ‚úÖ Ê∑ªÂä†ÂüüÂêç+SSLÈÉ®ÁΩ≤ÁéØÂ¢ÉËØ¥Êòé
- ‚úÖ ËØ¥ÊòéÂâçÁ´ØAPIË∞ÉÁî®‰ΩøÁî®Áõ∏ÂØπË∑ØÂæÑËßÑËåÉ
- ‚úÖ Âº∫Ë∞ÉÊï∞ÊçÆÂ∫ìËÆøÈóÆ‰∏çÂèóÂüüÂêçÂΩ±ÂìçÔºàÂÜÖÁΩëËÆøÈóÆÔºâ
- ‚úÖ Êõ¥Êñ∞Â§á‰ªΩÊÅ¢Â§çÊµÅÁ®ãËØ¥Êòé
- ‚úÖ Ë°•ÂÖÖÁîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆÊ≥®ÊÑè‰∫ãÈ°π

### v3.0.0 (2025Âπ¥10Êúà13Êó•)
**Áîü‰∫ßÁéØÂ¢ÉÂÆûÈôÖÁªìÊûÑÂêåÊ≠•Êõ¥Êñ∞**
- ÁßªÈô§ `users` Ë°®ÔºöÁ≥ªÁªüÈááÁî® DQA Ëá™Âä®ÁîüÊàê
- Êñ∞Â¢û `reviews` Ë°®ÔºöÊõø‰ª£ news Ë°®
- Êõ¥Êñ∞ `marketplace_vehicles` Ë°®ÔºöÊñ∞Â¢û `vehicle_type` Â≠óÊÆµ
- ‰∏ªÈîÆÁ≠ñÁï•Ë∞ÉÊï¥‰∏∫ `INTEGER PRIMARY KEY AUTOINCREMENT`

### v2.0.0 (2025Âπ¥10Êúà12Êó•)
- ‰ªé MySQL ËøÅÁßªËá≥ SQLite
- ÁÆÄÂåñÈÉ®ÁΩ≤Êû∂ÊûÑ

### v1.0.0 (ÂàùÂßãÁâàÊú¨)
- MySQL Êï∞ÊçÆÂ∫ìËÆæËÆ°

---

**ÊñáÊ°£ÁâàÊú¨**: v3.2.0ÔºàÁîü‰∫ßÁéØÂ¢É - ÂÆåÊï¥ÂêåÊ≠•Ôºâ  
**ÊúÄÂêéÊõ¥Êñ∞**: 2025Âπ¥10Êúà15Êó•  
**Êï∞ÊçÆÂ∫ìÁ±ªÂûã**: SQLite 3.x  
**Êï∞ÊçÆÂ∫ìÊñá‰ª∂**: `/var/www/vietnam-moto-auto/backend/database/vietnam_moto_auto.sqlite`  
**Ë°®Êï∞Èáè**: 7‰∏™Ê†∏ÂøÉË°®ÔºàÊó†Áî®Êà∑Á≥ªÁªüÔºâ  
**Êï∞ÊçÆÊÄªÈáè**: 250Êù°ËÆ∞ÂΩïÔºàMotorcycles: 126, Cars: 124, Questions: 100Ôºâ  
**ËÆøÈóÆÊñπÂºè**: ÂÜÖÁΩëHTTPÔºà‰∏çÂèóÂâçÁ´ØHTTPSÂΩ±ÂìçÔºâ  
**CarsË°®Â≠óÊÆµ**: 40‰∏™Â≠óÊÆµÔºàÂÆåÊï¥Ê±ΩËΩ¶ÂèÇÊï∞Ôºâ  
**MotorcyclesË°®Â≠óÊÆµ**: 52‰∏™Â≠óÊÆµÔºàÂÆåÊï¥Êë©ÊâòËΩ¶ÂèÇÊï∞Ôºâ

